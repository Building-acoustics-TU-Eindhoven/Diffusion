

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="./">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Auralization Documentation &mdash; Diffusion Equation for Acoustics 0.1 documentation</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=b86133f3" />
      <link rel="stylesheet" type="text/css" href="_static/css/theme.css?v=e59714d7" />

  
      <script src="_static/jquery.js?v=5d32c60e"></script>
      <script src="_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="_static/documentation_options.js?v=2709fde1"></script>
      <script src="_static/doctools.js?v=9bcbadda"></script>
      <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
      <script>window.MathJax = {"options": {"processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
      <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="FDM functions" href="acousticDE/FDMfunctions.html" />
    <link rel="prev" title="Diffusion Equation Finite Volume Method (FVM) Documentation" href="DocumentationFVM.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html" class="icon icon-home">
            Diffusion Equation for Acoustics
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Software Presentation:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="Overview.html">Overview</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Software Use:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="Finite%20Different%20Method%20Use.html">Finite Different Method Use</a></li>
<li class="toctree-l1"><a class="reference internal" href="Finite%20Volume%20Method%20Use.html">Finite Volume Method Use</a></li>
<li class="toctree-l1"><a class="reference internal" href="Auralization%20Use.html">Auralization Use</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Software Theory:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="DocumentationFDM.html">Diffusion Equation Finite Different Method (FDM) documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="DocumentationFVM.html">Diffusion Equation Finite Volume Method (FVM) Documentation</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Auralization Documentation</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">API reference:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="acousticDE/FDMfunctions.html">FDM functions</a></li>
<li class="toctree-l1"><a class="reference internal" href="acousticDE/FVMfunctions.html">FVM functions</a></li>
<li class="toctree-l1"><a class="reference internal" href="acousticDE/ReverberationFunctions.html">Reverberation functions</a></li>
<li class="toctree-l1"><a class="reference internal" href="acousticDE/Auralizationfunctions.html">Auralization functions</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Tutorials:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="Finite%20Different%20Method%20Demo%20Tutorial.html">Finite Different Method Demo Tutorial</a></li>
<li class="toctree-l1"><a class="reference internal" href="Finite%20Volume%20Method%20Demo%20Tutorial.html">Finite Volume Method Demo Tutorial</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Diffusion Equation for Acoustics</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Auralization Documentation</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/DocumentationAuralization.md.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section class="tex2jax_ignore mathjax_ignore" id="auralization-documentation">
<h1>Auralization Documentation<a class="headerlink" href="#auralization-documentation" title="Link to this heading"></a></h1>
<p>An auralization, is an audible file that is created by the convolution of an anaechoic audio signal with a simulated room impulse response. It shows how a specific sound (the sound produced by the anechoic file) would sound in the room specifically simulated (room impulse response). The diffusion eqaution method is the method used to produce the energy densities inside the room, which needs to be converted into a time-domain impulse reponse usable for auralization.</p>
<p>In order to create an auralization, the first step is to get the results from the diffusion equation method.
In particular, the diffusion equation simulator provides the energy density at the receiver position. To make it audible, acoustic pressure is needed which is related to the energy density by the formula <span class="math notranslate nohighlight">\(p_{rec}^2 = w_{rec} \rho c_0^2\)</span>, where w_{rec} is the energy density at the receiver, <span class="math notranslate nohighlight">\(\rho\)</span> is the air density in <span class="math notranslate nohighlight">\(\frac{kg}{m^3}\)</span> and <span class="math notranslate nohighlight">\(c_0\)</span> is the speed of sound.</p>
<p>By using the <em>FVM.py</em> script, the acoustic pressure is already converted into an Envelope of the square impulse response at the receiver position for each frequency band, called <em>p_{rec}<em>{off}</em>{deriv}_{band}</em>. This is calculated by doing the opposite of a backward integration of the pressure (basically differenziation).</p>
<p>After getting the file signal depending on the characteristics of the room from the <em>FVM.py</em> script, the envelope of the square impulse response at the receiver position for each frequency band is resampled to the sampling frequency of the anechoic signal chosen. This is to have consistent temporal resolutions between the two signals.</p>
<p>This consists only of square rooting the resampled envelope of the squared impulse response, since energy is proportional to pressure squared. From the squared envelope of the impulse response, the envelope of the impulse response is calculated. This step converts energy information into amplitude information.</p>
<p>This step include the creation of random noise, to represent the random phase fluctuations of the diffuse sound field. In particular a sequence of uniformly distributed random numbers with a mean of zero and a variance of one is introduced, ensuring that the noise is ‘neutral’ before being shaped by filters.</p>
<p>Since each octave band is modeled separately in the diffusion equation model, a Butterwoth bandpass filter ensures that the random noise occupies the correct frequency range. This step include the creation of the filter for the random noise. A order 8 for the bandpass filter ensures that the transition band is shapr enough to isolate the frequency regions while keeping stability.</p>
<p>The filtered random noise is created by convolving the time domain of the Butterworth bandpass filter and the random noise for each frequency band. This gives the noise in each frequency the correct spectral charateristic.</p>
<p>The square-root of the envelope of the impulse response (calculated at step 2) is to be padded to get the same length of the filtered random noise (calculated at step 5). Padding ensures temporal alignment without distorting the envelope and allows for element-wise multiplication.</p>
<p>This step involves the multiplication between the filtered random noise and the square root of the resampled envolope of the squared impulse response. It shapes the noise in time according to how energy decays in the room.</p>
<p>The time vectors for each frequency band are summed element-wise, creating the total broadband impulse response without direct sound.</p>
<p>The final step is the convolution of the total broadband simulated impulse response to a dry recording (anechoic file). This allows the listener to enter the simulated room acoustics environment and hear how the soundwould propagate in that specific room.</p>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="DocumentationFVM.html" class="btn btn-neutral float-left" title="Diffusion Equation Finite Volume Method (FVM) Documentation" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="acousticDE/FDMfunctions.html" class="btn btn-neutral float-right" title="FDM functions" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2023, Ilaria Fichera.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>